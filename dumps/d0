--
-- PostgreSQL database dump
--

-- Dumped from database version 12.12 (Ubuntu 12.12-0ubuntu0.20.04.1)
-- Dumped by pg_dump version 12.12 (Ubuntu 12.12-0ubuntu0.20.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: category; Type: TYPE; Schema: public; Owner: sidr
--

CREATE TYPE public.category AS ENUM (
    '1',
    '2',
    '3'
);


ALTER TYPE public.category OWNER TO sidr;

--
-- Name: comptype; Type: TYPE; Schema: public; Owner: sidr
--

CREATE TYPE public.comptype AS ENUM (
    'hiking',
    'mounted'
);


ALTER TYPE public.comptype OWNER TO sidr;

--
-- Name: gender; Type: TYPE; Schema: public; Owner: sidr
--

CREATE TYPE public.gender AS ENUM (
    'male',
    'female'
);


ALTER TYPE public.gender OWNER TO sidr;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Checkpoints; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Checkpoints" (
    id integer NOT NULL,
    route_id integer
);


ALTER TABLE public."Checkpoints" OWNER TO sidr;

--
-- Name: Checkpoints_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Checkpoints_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Checkpoints_id_seq" OWNER TO sidr;

--
-- Name: Checkpoints_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Checkpoints_id_seq" OWNED BY public."Checkpoints".id;


--
-- Name: Competitions; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Competitions" (
    id integer NOT NULL,
    start_time timestamp without time zone NOT NULL,
    type public.comptype
);


ALTER TABLE public."Competitions" OWNER TO sidr;

--
-- Name: Competitions_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Competitions_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Competitions_id_seq" OWNER TO sidr;

--
-- Name: Competitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Competitions_id_seq" OWNED BY public."Competitions".id;


--
-- Name: Hikes; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Hikes" (
    id integer NOT NULL,
    start_time timestamp without time zone NOT NULL,
    end_time timestamp without time zone NOT NULL,
    instructor_id integer NOT NULL,
    route_id integer NOT NULL
);


ALTER TABLE public."Hikes" OWNER TO sidr;

--
-- Name: Hikes_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Hikes_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Hikes_id_seq" OWNER TO sidr;

--
-- Name: Hikes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Hikes_id_seq" OWNED BY public."Hikes".id;


--
-- Name: Managers; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Managers" (
    id integer NOT NULL,
    name text NOT NULL,
    dob date NOT NULL,
    salary money NOT NULL,
    hire_date date NOT NULL,
    gen public.gender NOT NULL
);


ALTER TABLE public."Managers" OWNER TO sidr;

--
-- Name: Managers_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Managers_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Managers_id_seq" OWNER TO sidr;

--
-- Name: Managers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Managers_id_seq" OWNED BY public."Managers".id;


--
-- Name: Places; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Places" (
    id integer NOT NULL,
    address text NOT NULL
);


ALTER TABLE public."Places" OWNER TO sidr;

--
-- Name: Places_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Places_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Places_id_seq" OWNER TO sidr;

--
-- Name: Places_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Places_id_seq" OWNED BY public."Places".id;


--
-- Name: Professional_Competition; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Professional_Competition" (
    prof_id integer NOT NULL,
    comp_id integer NOT NULL
);


ALTER TABLE public."Professional_Competition" OWNER TO sidr;

--
-- Name: Professionals; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Professionals" (
    tourist_id integer NOT NULL
);


ALTER TABLE public."Professionals" OWNER TO sidr;

--
-- Name: Routes; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Routes" (
    id integer NOT NULL,
    name text NOT NULL,
    length double precision NOT NULL,
    category public.category NOT NULL
);


ALTER TABLE public."Routes" OWNER TO sidr;

--
-- Name: Route_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Route_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Route_id_seq" OWNER TO sidr;

--
-- Name: Route_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Route_id_seq" OWNED BY public."Routes".id;


--
-- Name: SectionGroups; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."SectionGroups" (
    id integer NOT NULL,
    section_id integer NOT NULL,
    trainer_id integer NOT NULL
);


ALTER TABLE public."SectionGroups" OWNER TO sidr;

--
-- Name: SectionGroups_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."SectionGroups_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."SectionGroups_id_seq" OWNER TO sidr;

--
-- Name: SectionGroups_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."SectionGroups_id_seq" OWNED BY public."SectionGroups".id;


--
-- Name: Sections; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Sections" (
    id integer NOT NULL,
    name text NOT NULL,
    manager_id integer NOT NULL
);


ALTER TABLE public."Sections" OWNER TO sidr;

--
-- Name: Sections_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Sections_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Sections_id_seq" OWNER TO sidr;

--
-- Name: Sections_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Sections_id_seq" OWNED BY public."Sections".id;


--
-- Name: Tourists; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Tourists" (
    id integer NOT NULL,
    name text NOT NULL,
    gen public.gender NOT NULL,
    dob date,
    category public.category
);


ALTER TABLE public."Tourists" OWNER TO sidr;

--
-- Name: Tourists_Hikes; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Tourists_Hikes" (
    tourist_id integer NOT NULL,
    hike_id integer NOT NULL
);


ALTER TABLE public."Tourists_Hikes" OWNER TO sidr;

--
-- Name: Tourists_SectionGroups; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Tourists_SectionGroups" (
    tourist_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public."Tourists_SectionGroups" OWNER TO sidr;

--
-- Name: Trainers; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Trainers" (
    prof_id integer NOT NULL,
    salary money NOT NULL,
    section_id integer NOT NULL
);


ALTER TABLE public."Trainers" OWNER TO sidr;

--
-- Name: Trainings; Type: TABLE; Schema: public; Owner: sidr
--

CREATE TABLE public."Trainings" (
    id integer NOT NULL,
    place_id integer NOT NULL,
    section_group_id integer NOT NULL,
    time_ timestamp without time zone NOT NULL
);


ALTER TABLE public."Trainings" OWNER TO sidr;

--
-- Name: Trainings_id_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public."Trainings_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Trainings_id_seq" OWNER TO sidr;

--
-- Name: Trainings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public."Trainings_id_seq" OWNED BY public."Trainings".id;


--
-- Name: tourist_column_name_seq; Type: SEQUENCE; Schema: public; Owner: sidr
--

CREATE SEQUENCE public.tourist_column_name_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tourist_column_name_seq OWNER TO sidr;

--
-- Name: tourist_column_name_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: sidr
--

ALTER SEQUENCE public.tourist_column_name_seq OWNED BY public."Tourists".id;


--
-- Name: Checkpoints id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Checkpoints" ALTER COLUMN id SET DEFAULT nextval('public."Checkpoints_id_seq"'::regclass);


--
-- Name: Competitions id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Competitions" ALTER COLUMN id SET DEFAULT nextval('public."Competitions_id_seq"'::regclass);


--
-- Name: Hikes id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Hikes" ALTER COLUMN id SET DEFAULT nextval('public."Hikes_id_seq"'::regclass);


--
-- Name: Managers id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Managers" ALTER COLUMN id SET DEFAULT nextval('public."Managers_id_seq"'::regclass);


--
-- Name: Places id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Places" ALTER COLUMN id SET DEFAULT nextval('public."Places_id_seq"'::regclass);


--
-- Name: Routes id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Routes" ALTER COLUMN id SET DEFAULT nextval('public."Route_id_seq"'::regclass);


--
-- Name: SectionGroups id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."SectionGroups" ALTER COLUMN id SET DEFAULT nextval('public."SectionGroups_id_seq"'::regclass);


--
-- Name: Sections id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Sections" ALTER COLUMN id SET DEFAULT nextval('public."Sections_id_seq"'::regclass);


--
-- Name: Tourists id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists" ALTER COLUMN id SET DEFAULT nextval('public.tourist_column_name_seq'::regclass);


--
-- Name: Trainings id; Type: DEFAULT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainings" ALTER COLUMN id SET DEFAULT nextval('public."Trainings_id_seq"'::regclass);


--
-- Data for Name: Checkpoints; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Checkpoints" (id, route_id) FROM stdin;
1	1
2	2
3	1
\.


--
-- Data for Name: Competitions; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Competitions" (id, start_time, type) FROM stdin;
1	2022-11-08 15:03:07	hiking
5	2022-11-11 15:26:37	mounted
\.


--
-- Data for Name: Hikes; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Hikes" (id, start_time, end_time, instructor_id, route_id) FROM stdin;
1	2022-11-08 12:21:15	2022-11-08 18:21:39	8	1
2	2022-11-08 17:22:12	2022-11-10 17:22:14	9	2
3	2022-11-15 06:43:10	2022-11-20 06:43:19	7	2
\.


--
-- Data for Name: Managers; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Managers" (id, name, dob, salary, hire_date, gen) FROM stdin;
2	Иван Иванов	1980-11-03	$125,000.00	2022-11-08	male
5	Сидор Грушевый	2022-11-01	$2.00	2022-11-07	male
\.


--
-- Data for Name: Places; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Places" (id, address) FROM stdin;
1	Цветной проезд, 1
\.


--
-- Data for Name: Professional_Competition; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Professional_Competition" (prof_id, comp_id) FROM stdin;
8	1
9	1
7	1
\.


--
-- Data for Name: Professionals; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Professionals" (tourist_id) FROM stdin;
8
9
7
\.


--
-- Data for Name: Routes; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Routes" (id, name, length, category) FROM stdin;
1	Обское море - НГУ	5	3
2	Цветной проезд 1 - НГУ	1.5	1
\.


--
-- Data for Name: SectionGroups; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."SectionGroups" (id, section_id, trainer_id) FROM stdin;
1	1	8
2	1	9
3	2	8
\.


--
-- Data for Name: Sections; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Sections" (id, name, manager_id) FROM stdin;
1	Секция 1	2
2	Секция 2	5
3	Секция 3	2
\.


--
-- Data for Name: Tourists; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Tourists" (id, name, gen, dob, category) FROM stdin;
9	Владимир Анатольевич	male	1965-01-01	3
8	Виталий Витальевич	male	1974-03-13	3
7	Женя	female	2009-08-07	2
3	Петр	male	2012-11-08	1
4	Иван	male	2011-10-10	1
5	Илья	male	2010-09-09	2
\.


--
-- Data for Name: Tourists_Hikes; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Tourists_Hikes" (tourist_id, hike_id) FROM stdin;
3	1
4	1
5	1
7	1
7	2
4	3
9	3
\.


--
-- Data for Name: Tourists_SectionGroups; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Tourists_SectionGroups" (tourist_id, group_id) FROM stdin;
3	1
4	1
5	3
7	3
3	3
\.


--
-- Data for Name: Trainers; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Trainers" (prof_id, salary, section_id) FROM stdin;
9	$75,000.00	3
8	$50,000.00	1
\.


--
-- Data for Name: Trainings; Type: TABLE DATA; Schema: public; Owner: sidr
--

COPY public."Trainings" (id, place_id, section_group_id, time_) FROM stdin;
1	1	1	2022-11-05 16:38:40
\.


--
-- Name: Checkpoints_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Checkpoints_id_seq"', 3, true);


--
-- Name: Competitions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Competitions_id_seq"', 5, true);


--
-- Name: Hikes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Hikes_id_seq"', 3, true);


--
-- Name: Managers_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Managers_id_seq"', 5, true);


--
-- Name: Places_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Places_id_seq"', 1, true);


--
-- Name: Route_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Route_id_seq"', 2, true);


--
-- Name: SectionGroups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."SectionGroups_id_seq"', 3, true);


--
-- Name: Sections_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Sections_id_seq"', 3, true);


--
-- Name: Trainings_id_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public."Trainings_id_seq"', 1, true);


--
-- Name: tourist_column_name_seq; Type: SEQUENCE SET; Schema: public; Owner: sidr
--

SELECT pg_catalog.setval('public.tourist_column_name_seq', 9, true);


--
-- Name: Checkpoints Checkpoints_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Checkpoints"
    ADD CONSTRAINT "Checkpoints_pk" PRIMARY KEY (id);


--
-- Name: Competitions Competitions_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Competitions"
    ADD CONSTRAINT "Competitions_pk" PRIMARY KEY (id);


--
-- Name: Hikes Hikes_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Hikes"
    ADD CONSTRAINT "Hikes_pk" PRIMARY KEY (id);


--
-- Name: Managers Managers_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Managers"
    ADD CONSTRAINT "Managers_pk" PRIMARY KEY (id);


--
-- Name: Places Places_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Places"
    ADD CONSTRAINT "Places_pk" PRIMARY KEY (id);


--
-- Name: Professional_Competition Professional_Competition_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Professional_Competition"
    ADD CONSTRAINT "Professional_Competition_pk" PRIMARY KEY (comp_id, prof_id);


--
-- Name: Professionals Proffessionals_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Professionals"
    ADD CONSTRAINT "Proffessionals_pk" PRIMARY KEY (tourist_id);


--
-- Name: Routes Route_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Routes"
    ADD CONSTRAINT "Route_pk" PRIMARY KEY (id);


--
-- Name: SectionGroups SectionGroups_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."SectionGroups"
    ADD CONSTRAINT "SectionGroups_pk" PRIMARY KEY (id);


--
-- Name: Sections Sections_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Sections"
    ADD CONSTRAINT "Sections_pk" PRIMARY KEY (id);


--
-- Name: Tourists_Hikes Tourists_Hikes_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_Hikes"
    ADD CONSTRAINT "Tourists_Hikes_pk" PRIMARY KEY (tourist_id, hike_id);


--
-- Name: Tourists_SectionGroups Tourists_SectionGroups_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_SectionGroups"
    ADD CONSTRAINT "Tourists_SectionGroups_pk" PRIMARY KEY (tourist_id, group_id);


--
-- Name: Trainers Trainers_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainers"
    ADD CONSTRAINT "Trainers_pk" PRIMARY KEY (prof_id);


--
-- Name: Trainings Trainings_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainings"
    ADD CONSTRAINT "Trainings_pk" PRIMARY KEY (id);


--
-- Name: Sections name_unique; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Sections"
    ADD CONSTRAINT name_unique UNIQUE (name);


--
-- Name: Tourists tourist_pk; Type: CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists"
    ADD CONSTRAINT tourist_pk PRIMARY KEY (id);


--
-- Name: Checkpoints Checkpoints_Route_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Checkpoints"
    ADD CONSTRAINT "Checkpoints_Route_null_fk" FOREIGN KEY (route_id) REFERENCES public."Routes"(id);


--
-- Name: Hikes Hikes_Professionals_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Hikes"
    ADD CONSTRAINT "Hikes_Professionals_null_fk" FOREIGN KEY (instructor_id) REFERENCES public."Professionals"(tourist_id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Hikes Hikes_Routes_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Hikes"
    ADD CONSTRAINT "Hikes_Routes_null_fk" FOREIGN KEY (route_id) REFERENCES public."Routes"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Professional_Competition Professional_Competition_Competitions_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Professional_Competition"
    ADD CONSTRAINT "Professional_Competition_Competitions_null_fk" FOREIGN KEY (comp_id) REFERENCES public."Competitions"(id);


--
-- Name: Professional_Competition Professional_Competition_Professionals_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Professional_Competition"
    ADD CONSTRAINT "Professional_Competition_Professionals_null_fk" FOREIGN KEY (prof_id) REFERENCES public."Professionals"(tourist_id);


--
-- Name: Professionals Proffessionals_Tourist_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Professionals"
    ADD CONSTRAINT "Proffessionals_Tourist_null_fk" FOREIGN KEY (tourist_id) REFERENCES public."Tourists"(id) ON DELETE CASCADE;


--
-- Name: SectionGroups SectionGroups_Sections_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."SectionGroups"
    ADD CONSTRAINT "SectionGroups_Sections_null_fk" FOREIGN KEY (section_id) REFERENCES public."Sections"(id) ON DELETE RESTRICT;


--
-- Name: SectionGroups SectionGroups_Trainers_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."SectionGroups"
    ADD CONSTRAINT "SectionGroups_Trainers_null_fk" FOREIGN KEY (trainer_id) REFERENCES public."Trainers"(prof_id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Sections Sections_Managers_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Sections"
    ADD CONSTRAINT "Sections_Managers_null_fk" FOREIGN KEY (manager_id) REFERENCES public."Managers"(id) ON DELETE RESTRICT;


--
-- Name: Tourists_Hikes Tourists_Hikes_Hikes_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_Hikes"
    ADD CONSTRAINT "Tourists_Hikes_Hikes_null_fk" FOREIGN KEY (hike_id) REFERENCES public."Hikes"(id);


--
-- Name: Tourists_Hikes Tourists_Hikes_Tourists_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_Hikes"
    ADD CONSTRAINT "Tourists_Hikes_Tourists_null_fk" FOREIGN KEY (tourist_id) REFERENCES public."Tourists"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Tourists_SectionGroups Tourists_SectionGroups_SectionGroups_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_SectionGroups"
    ADD CONSTRAINT "Tourists_SectionGroups_SectionGroups_null_fk" FOREIGN KEY (group_id) REFERENCES public."SectionGroups"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Tourists_SectionGroups Tourists_SectionGroups_Tourist_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Tourists_SectionGroups"
    ADD CONSTRAINT "Tourists_SectionGroups_Tourist_null_fk" FOREIGN KEY (tourist_id) REFERENCES public."Tourists"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Trainers Trainers_Professionals_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainers"
    ADD CONSTRAINT "Trainers_Professionals_null_fk" FOREIGN KEY (prof_id) REFERENCES public."Professionals"(tourist_id);


--
-- Name: Trainers Trainers_Sections_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainers"
    ADD CONSTRAINT "Trainers_Sections_null_fk" FOREIGN KEY (section_id) REFERENCES public."Sections"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Trainings Trainings_Places_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainings"
    ADD CONSTRAINT "Trainings_Places_null_fk" FOREIGN KEY (place_id) REFERENCES public."Places"(id) ON UPDATE RESTRICT ON DELETE RESTRICT;


--
-- Name: Trainings Trainings_SectionGroups_null_fk; Type: FK CONSTRAINT; Schema: public; Owner: sidr
--

ALTER TABLE ONLY public."Trainings"
    ADD CONSTRAINT "Trainings_SectionGroups_null_fk" FOREIGN KEY (section_group_id) REFERENCES public."SectionGroups"(id);


--
-- PostgreSQL database dump complete
--

